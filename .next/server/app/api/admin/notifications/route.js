(()=>{var e={};e.id=6962,e.ids=[6962],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},58212:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>g,routeModule:()=>p,serverHooks:()=>m,workAsyncStorage:()=>u,workUnitAsyncStorage:()=>l});var i={};r.r(i),r.d(i,{GET:()=>d,POST:()=>c});var n=r(96559),a=r(48088),s=r(37719),o=r(32190);async function d(e){try{let{searchParams:t}=new URL(e.url),r=Number.parseInt(t.get("page")||"1"),i=Number.parseInt(t.get("limit")||"10"),n=t.get("type"),a=t.get("priority"),s=[{_id:"1",title:"System Maintenance",message:"The system will be under maintenance from 2 AM to 4 AM tomorrow.",type:"warning",priority:"high",recipients:{type:"all"},sender:{id:"admin1",name:"Admin",role:"admin"},isRead:!1,readBy:[],createdAt:"2024-01-20T00:00:00Z",isActive:!0},{_id:"2",title:"New Feature Released",message:"We've added a new quiz feature to help you practice better.",type:"success",priority:"medium",recipients:{type:"role",roles:["student"]},sender:{id:"admin1",name:"Admin",role:"admin"},isRead:!1,readBy:[],createdAt:"2024-01-19T00:00:00Z",isActive:!0}];n&&(s=s.filter(e=>e.type===n)),a&&(s=s.filter(e=>e.priority===a));let d=(r-1)*i,c=s.slice(d,d+i);return o.NextResponse.json({notifications:c,total:s.length,page:r,totalPages:Math.ceil(s.length/i)})}catch(e){return console.error("Error fetching notifications:",e),o.NextResponse.json({error:"Failed to fetch notifications"},{status:500})}}async function c(e){try{let t=await e.json(),r={_id:Date.now().toString(),...t,sender:{id:"admin1",name:"Admin",role:"admin"},isRead:!1,readBy:[],createdAt:new Date().toISOString(),isActive:!0};return o.NextResponse.json({notification:r})}catch(e){return console.error("Error creating notification:",e),o.NextResponse.json({error:"Failed to create notification"},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/admin/notifications/route",pathname:"/api/admin/notifications",filename:"route",bundlePath:"app/api/admin/notifications/route"},resolvedPagePath:"D:\\Project\\frontend\\app\\api\\admin\\notifications\\route.ts",nextConfigOutput:"",userland:i}),{workAsyncStorage:u,workUnitAsyncStorage:l,serverHooks:m}=p;function g(){return(0,s.patchFetch)({workAsyncStorage:u,workUnitAsyncStorage:l})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[4447,580],()=>r(58212));module.exports=i})();