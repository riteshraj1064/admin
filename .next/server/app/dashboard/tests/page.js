(()=>{var e={};e.id=5823,e.ids=[5823],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4445:(e,s,t)=>{"use strict";function a(){return null}t.r(s),t.d(s,{default:()=>a})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12034:(e,s,t)=>{Promise.resolve().then(t.bind(t,66302))},12412:e=>{"use strict";e.exports=require("assert")},15616:(e,s,t)=>{"use strict";t.d(s,{T:()=>l});var a=t(60687),r=t(43210),i=t(96241);let l=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...s}));l.displayName="Textarea"},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23578:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>c});var a=t(65239),r=t(48088),i=t(88170),l=t.n(i),n=t(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c={children:["",{children:["dashboard",{children:["tests",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,83248)),"D:\\Project\\frontend\\app\\dashboard\\tests\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,4445)),"D:\\Project\\frontend\\app\\dashboard\\tests\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,83249)),"D:\\Project\\frontend\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"D:\\Project\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["D:\\Project\\frontend\\app\\dashboard\\tests\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/dashboard/tests/page",pathname:"/dashboard/tests",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},40214:(e,s,t)=>{"use strict";t.d(s,{d:()=>w});var a=t(60687),r=t(43210),i=t(70569),l=t(98599),n=t(11273),d=t(65551),c=t(83721),o=t(18853),m=t(14163),x="Switch",[u,h]=(0,n.A)(x),[p,j]=u(x),g=r.forwardRef((e,s)=>{let{__scopeSwitch:t,name:n,checked:c,defaultChecked:o,required:x,disabled:u,value:h="on",onCheckedChange:j,form:g,...v}=e,[f,b]=r.useState(null),w=(0,l.s)(s,e=>b(e)),k=r.useRef(!1),C=!f||g||!!f.closest("form"),[S=!1,A]=(0,d.i)({prop:c,defaultProp:o,onChange:j});return(0,a.jsxs)(p,{scope:t,checked:S,disabled:u,children:[(0,a.jsx)(m.sG.button,{type:"button",role:"switch","aria-checked":S,"aria-required":x,"data-state":y(S),"data-disabled":u?"":void 0,disabled:u,value:h,...v,ref:w,onClick:(0,i.m)(e.onClick,e=>{A(e=>!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,a.jsx)(N,{control:f,bubbles:!k.current,name:n,value:h,checked:S,required:x,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});g.displayName=x;var v="SwitchThumb",f=r.forwardRef((e,s)=>{let{__scopeSwitch:t,...r}=e,i=j(v,t);return(0,a.jsx)(m.sG.span,{"data-state":y(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:s})});f.displayName=v;var N=e=>{let{control:s,checked:t,bubbles:i=!0,...l}=e,n=r.useRef(null),d=(0,c.Z)(t),m=(0,o.X)(s);return r.useEffect(()=>{let e=n.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==t&&s){let a=new Event("click",{bubbles:i});s.call(e,t),e.dispatchEvent(a)}},[d,t,i]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...l,tabIndex:-1,ref:n,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y(e){return e?"checked":"unchecked"}var b=t(96241);let w=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(g,{className:(0,b.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:(0,a.jsx)(f,{className:(0,b.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));w.displayName=g.displayName},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},62659:(e,s,t)=>{"use strict";t.d(s,{B:()=>r});var a=t(12810);let r={getAll:async()=>(await a.A.get("/categories")).data,getById:async e=>(await a.A.get(`/categories/${e}`)).data,create:async e=>(await a.A.post("/categories",e)).data,update:async(e,s)=>(await a.A.put(`/categories/${e}`,s)).data,delete:async e=>(await a.A.delete(`/categories/${e}`)).data}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66302:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>G});var a=t(60687),r=t(43210),i=t(24934),l=t(68988),n=t(78122);let d=(0,t(62688).A)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);var c=t(96474),o=t(99270),m=t(48730),x=t(41312),u=t(28947),h=t(93661),p=t(13861),j=t(63143),g=t(16023),v=t(88233),f=t(41862),N=t(96752),y=t(55629),b=t(59821),w=t(63974),k=t(37826),C=t(39390),S=t(15616),A=t(71702),E=t(82080),T=t(12810);let P={getAll:async()=>(await T.A.get("/tests")).data,create:async e=>(await T.A.post("/tests",e)).data,generateFromBank:async e=>(await T.A.post("/tests/generate",e)).data,update:async(e,s)=>(await T.A.put(`/tests/${e}`,s)).data,delete:async e=>(await T.A.delete(`/tests/${e}`)).data};var q=t(75533);function M({isOpen:e,onClose:s,test:t,mode:n,onSuccess:d}){let[c,o]=(0,r.useState)({title:"",description:"",duration:60,totalQuestions:0,difficulty:"Medium",category:"",testSeries:"",questions:[],attempts:0,avgScore:0,completedUsers:[],isPremium:!1,isNegativeMarking:!1,negativeMarkingFactor:0}),[m,h]=(0,r.useState)([]),[p,j]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),{toast:N}=(0,A.dj)(),y=async e=>{if(e.preventDefault(),"view"!==n){j(!0);try{"create"===n?(await P.create(c),N({title:"Test created",description:`${c.title} has been created successfully.`})):(await P.update(t.id,c),N({title:"Test updated",description:`${c.title} has been updated successfully.`})),d?.(),s()}catch(e){N({title:"Error",description:e.response?.data?.error||e.message||"Something went wrong",variant:"destructive"})}finally{j(!1)}}},b=m.find(e=>e.id===c.testSeries);return(0,a.jsx)(k.lG,{open:e,onOpenChange:s,children:(0,a.jsxs)(k.Cf,{className:"sm:max-w-[600px] w-full max-w-full max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900 border shadow-xl rounded-xl p-2 sm:p-4",children:[(0,a.jsxs)(k.c7,{className:"space-y-3",children:[(0,a.jsx)(k.L3,{className:"text-xl font-semibold",children:(()=>{switch(n){case"create":return"Create Test";case"edit":return"Edit Test";case"view":return"View Test";default:return"Test"}})()}),(0,a.jsx)(k.rr,{className:"text-muted-foreground",children:(()=>{switch(n){case"create":return"Add a new test to your platform.";case"edit":return"Make changes to the test here.";case"view":return"Test details and information.";default:return""}})()})]}),(0,a.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"title",className:"text-sm font-medium",children:"Test Title *"}),(0,a.jsx)(l.p,{id:"title",value:c.title,onChange:e=>o({...c,title:e.target.value}),required:!0,disabled:"view"===n,placeholder:"Enter test title",className:"w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),(0,a.jsx)(S.T,{id:"description",value:c.description,onChange:e=>o({...c,description:e.target.value}),rows:3,disabled:"view"===n,placeholder:"Enter test description",className:"w-full resize-none"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"testSeries",className:"text-sm font-medium",children:"Test Series"}),(0,a.jsxs)(w.l6,{value:c.testSeries,onValueChange:e=>o({...c,testSeries:e}),disabled:"view"===n||g,children:[(0,a.jsx)(w.bq,{children:(0,a.jsx)(w.yv,{placeholder:g?"Loading...":"Select test series"})}),(0,a.jsxs)(w.gC,{children:[(0,a.jsx)(w.eb,{value:"none",children:"No Test Series"}),m.map(e=>(0,a.jsx)(w.eb,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:e.icon}),(0,a.jsx)("span",{children:e.title})]})},e.id))]})]}),b&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Selected: ",b.icon," ",b.title]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"category",className:"text-sm font-medium",children:"Category *"}),(0,a.jsx)(l.p,{id:"category",value:c.category,onChange:e=>o({...c,category:e.target.value}),required:!0,disabled:"view"===n,placeholder:"e.g., Physics, Mathematics"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-6 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"totalQuestions",className:"text-sm font-medium",children:"Total Questions *"}),(0,a.jsx)(l.p,{id:"totalQuestions",type:"number",value:c.totalQuestions,onChange:e=>o({...c,totalQuestions:Number.parseInt(e.target.value)||0}),required:!0,disabled:"view"===n,placeholder:"0",min:"1"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"duration",className:"text-sm font-medium",children:"Duration (minutes) *"}),(0,a.jsx)(l.p,{id:"duration",type:"number",value:c.duration,onChange:e=>o({...c,duration:Number.parseInt(e.target.value)||60}),required:!0,disabled:"view"===n,placeholder:"60",min:"1"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"difficulty",className:"text-sm font-medium",children:"Difficulty *"}),(0,a.jsxs)(w.l6,{value:c.difficulty,onValueChange:e=>o({...c,difficulty:e}),disabled:"view"===n,children:[(0,a.jsx)(w.bq,{children:(0,a.jsx)(w.yv,{})}),(0,a.jsxs)(w.gC,{children:[(0,a.jsx)(w.eb,{value:"Easy",children:"Easy"}),(0,a.jsx)(w.eb,{value:"Medium",children:"Medium"}),(0,a.jsx)(w.eb,{value:"Hard",children:"Hard"})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start justify-center gap-1 pt-6",children:[(0,a.jsxs)(C.J,{htmlFor:"isPremium",className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(l.p,{id:"isPremium",type:"checkbox",checked:c.isPremium,onChange:e=>o({...c,isPremium:e.target.checked}),disabled:"view"===n,className:"w-4 h-4 accent-blue-600"}),"Premium"]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Is this a premium test?"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start justify-center gap-1 pt-6",children:[(0,a.jsxs)(C.J,{htmlFor:"isNegativeMarking",className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(l.p,{id:"isNegativeMarking",type:"checkbox",checked:c.isNegativeMarking,onChange:e=>o({...c,isNegativeMarking:e.target.checked}),disabled:"view"===n,className:"w-4 h-4 accent-red-600"}),"Negative Marking"]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Enable negative marking for this test."})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start justify-center gap-1 pt-6",children:[(0,a.jsx)(C.J,{htmlFor:"negativeMarkingFactor",className:"text-sm font-medium",children:"Negative Marking Factor"}),(0,a.jsx)(l.p,{id:"negativeMarkingFactor",type:"number",value:c.negativeMarkingFactor,onChange:e=>o({...c,negativeMarkingFactor:Number.parseFloat(e.target.value)||0}),required:c.isNegativeMarking,disabled:"view"===n||!c.isNegativeMarking,placeholder:"0",min:"0",step:"0.01",className:"w-24 sm:w-32"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Set to 0 for no negative marking."})]})]}),"view"===n&&(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-6 gap-4 p-4 bg-muted/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:c.attempts}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Attempts"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm font-medium",children:[c.avgScore.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Avg Score"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(E.A,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:c.completedUsers.length}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Completed"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(C.J,{className:"text-sm font-medium mr-2",children:"Premium:"}),(0,a.jsx)("span",{className:`text-xs font-semibold ${c.isPremium?"text-green-600":"text-gray-500"}`,children:c.isPremium?"Yes":"No"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(C.J,{className:"text-sm font-medium mr-2",children:"Negative Marking:"}),(0,a.jsx)("span",{className:`text-xs font-semibold ${c.isNegativeMarking?"text-red-600":"text-gray-500"}`,children:c.isNegativeMarking?"Yes":"No"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(C.J,{className:"text-sm font-medium mr-2",children:"Neg. Marking Factor:"}),(0,a.jsx)("span",{className:"text-xs font-semibold",children:c.negativeMarkingFactor})]})]})]}),(0,a.jsxs)(k.Es,{className:"flex justify-end space-x-2 pt-4 border-t",children:[(0,a.jsx)(i.$,{type:"button",variant:"outline",onClick:s,children:"view"===n?"Close":"Cancel"}),"view"!==n&&(0,a.jsxs)(i.$,{type:"submit",disabled:p,className:"min-w-[100px]",children:[p&&(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),p?"Saving...":"create"===n?"Create Test":"Update Test"]})]})]})]})})}var F=t(40214),$=t(11860),D=t(62659);function J({isOpen:e,onClose:s,onSuccess:t}){let[n,c]=(0,r.useState)({subject:"",topic:"",exam:"",difficulty:"Medium",previousYear:!1,year:"",totalQuestions:20,title:"",description:"",duration:60,testSeries:"none"}),[o,m]=(0,r.useState)([]),[x,u]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),[j,g]=(0,r.useState)("all"),[v,N]=(0,r.useState)([]),[y,E]=(0,r.useState)([]),[T,q]=(0,r.useState)(""),[M,D]=(0,r.useState)(""),[J,Q]=(0,r.useState)(!1),[_,I]=(0,r.useState)(!1),{toast:G}=(0,A.dj)(),O=async e=>{e.preventDefault(),Q(!0);try{let e={...n,exam:v.length>0?v:void 0,year:y.length>0?y:void 0},a=await P.generateFromBank(e);G({title:"Test generated successfully",description:`Generated test with ${a.test.totalQuestions} questions from ${a.totalAvailable} available questions.`}),t?.(),s(),H()}catch(e){G({title:"Error",description:e.response?.data?.error||e.response?.data?.message||"Failed to generate test",variant:"destructive"})}finally{Q(!1)}},H=()=>{c({subject:"",topic:"",exam:"",difficulty:"Medium",previousYear:!1,year:"",totalQuestions:20,title:"",description:"",duration:60,testSeries:"none"}),g("all"),N([]),E([]),q(""),D("")},L=()=>{T.trim()&&!v.includes(T.trim())&&(N([...v,T.trim()]),q(""))},R=e=>{N(v.filter(s=>s!==e))},Y=()=>{M.trim()&&!y.includes(M.trim())&&(E([...y,M.trim()]),D(""))},V=e=>{E(y.filter(s=>s!==e))},B=(e,s)=>{"Enter"===e.key&&(e.preventDefault(),"exam"===s?L():Y())},z=h.find(e=>e.id===n.testSeries);return(0,a.jsx)(k.lG,{open:e,onOpenChange:s,children:(0,a.jsxs)(k.Cf,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto bg-background border shadow-lg",children:[(0,a.jsxs)(k.c7,{className:"space-y-3",children:[(0,a.jsxs)(k.L3,{className:"text-xl font-semibold flex items-center",children:[(0,a.jsx)(d,{className:"mr-2 h-5 w-5"}),"Generate Test from Question Bank"]}),(0,a.jsx)(k.rr,{className:"text-muted-foreground",children:"Create a test by selecting questions from the question bank based on your criteria."})]}),(0,a.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Test Details"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"title",className:"text-sm font-medium",children:"Test Title *"}),(0,a.jsx)(l.p,{id:"title",value:n.title,onChange:e=>c({...n,title:e.target.value}),required:!0,placeholder:"Enter test title"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),(0,a.jsx)(S.T,{id:"description",value:n.description,onChange:e=>c({...n,description:e.target.value}),rows:2,placeholder:"Enter test description",className:"resize-none"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"totalQuestions",className:"text-sm font-medium",children:"Total Questions *"}),(0,a.jsx)(l.p,{id:"totalQuestions",type:"number",value:n.totalQuestions,onChange:e=>c({...n,totalQuestions:Number.parseInt(e.target.value)||20}),required:!0,min:"1",max:"100"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"duration",className:"text-sm font-medium",children:"Duration (minutes) *"}),(0,a.jsx)(l.p,{id:"duration",type:"number",value:n.duration,onChange:e=>c({...n,duration:Number.parseInt(e.target.value)||60}),required:!0,min:"1"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"category",className:"text-sm font-medium",children:"Category (Filter Test Series)"}),(0,a.jsxs)(w.l6,{value:j,onValueChange:g,disabled:_,children:[(0,a.jsx)(w.bq,{children:(0,a.jsx)(w.yv,{placeholder:_?"Loading...":"Select category"})}),(0,a.jsxs)(w.gC,{children:[(0,a.jsx)(w.eb,{value:"all",children:"All Categories"}),o.map(e=>(0,a.jsx)(w.eb,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:e.icon}),(0,a.jsx)("span",{children:e.name})]})},e.id))]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"testSeries",className:"text-sm font-medium",children:"Test Series"}),(0,a.jsxs)(w.l6,{value:n.testSeries,onValueChange:e=>c({...n,testSeries:e}),disabled:_,children:[(0,a.jsx)(w.bq,{children:(0,a.jsx)(w.yv,{placeholder:_?"Loading...":"Select test series (optional)"})}),(0,a.jsxs)(w.gC,{children:[(0,a.jsx)(w.eb,{value:"none",children:"No Test Series"}),h.map(e=>(0,a.jsx)(w.eb,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:e.icon}),(0,a.jsx)("span",{children:e.title})]})},e.id))]})]}),z&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Category: ",(e=>{if("string"==typeof e){let s=o.find(s=>s.id===e);return s?`${s.icon} ${s.name}`:"Unknown"}return e?`${e.icon} ${e.name}`:"Unknown"})(z.Category)]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Question Selection Criteria"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"subject",className:"text-sm font-medium",children:"Subject"}),(0,a.jsx)(l.p,{id:"subject",value:n.subject,onChange:e=>c({...n,subject:e.target.value}),placeholder:"e.g., Physics, Mathematics"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"topic",className:"text-sm font-medium",children:"Topic"}),(0,a.jsx)(l.p,{id:"topic",value:n.topic,onChange:e=>c({...n,topic:e.target.value}),placeholder:"e.g., Mechanics, Algebra"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C.J,{htmlFor:"difficulty",className:"text-sm font-medium",children:"Difficulty Level"}),(0,a.jsxs)(w.l6,{value:n.difficulty,onValueChange:e=>c({...n,difficulty:e}),children:[(0,a.jsx)(w.bq,{children:(0,a.jsx)(w.yv,{})}),(0,a.jsxs)(w.gC,{children:[(0,a.jsx)(w.eb,{value:"any",children:"Any Difficulty"}),(0,a.jsx)(w.eb,{value:"easy",children:"Easy"}),(0,a.jsx)(w.eb,{value:"medium",children:"Medium"}),(0,a.jsx)(w.eb,{value:"hard",children:"Hard"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(C.J,{className:"text-sm font-medium",children:"Exams"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(l.p,{value:T,onChange:e=>q(e.target.value),onKeyPress:e=>B(e,"exam"),placeholder:"Enter exam name (e.g., JEE, NEET)",className:"flex-1"}),(0,a.jsx)(i.$,{type:"button",onClick:L,size:"sm",variant:"outline",children:"Add"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:v.map((e,s)=>(0,a.jsxs)(b.E,{variant:"secondary",className:"flex items-center gap-2",children:[e,(0,a.jsx)($.A,{className:"w-3 h-3 cursor-pointer",onClick:()=>R(e)})]},s))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(F.d,{id:"previousYear",checked:n.previousYear,onCheckedChange:e=>c({...n,previousYear:e})}),(0,a.jsx)(C.J,{htmlFor:"previousYear",className:"text-sm font-medium",children:"Include Previous Year Questions Only"})]}),n.previousYear&&(0,a.jsxs)("div",{className:"space-y-3 ml-6",children:[(0,a.jsx)(C.J,{className:"text-sm font-medium",children:"Years"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(l.p,{value:M,onChange:e=>D(e.target.value),onKeyPress:e=>B(e,"year"),placeholder:"Enter year (e.g., 2023, 2022)",className:"flex-1"}),(0,a.jsx)(i.$,{type:"button",onClick:Y,size:"sm",variant:"outline",children:"Add"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:y.map((e,s)=>(0,a.jsxs)(b.E,{variant:"secondary",className:"flex items-center gap-2",children:[e,(0,a.jsx)($.A,{className:"w-3 h-3 cursor-pointer",onClick:()=>V(e)})]},s))})]})]})]})]}),(0,a.jsxs)(k.Es,{className:"flex justify-end space-x-2 pt-4 border-t",children:[(0,a.jsx)(i.$,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),(0,a.jsxs)(i.$,{type:"submit",disabled:J,className:"min-w-[120px]",children:[J&&(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),J?"Generating...":"Generate Test"]})]})]})]})})}var Q=t(95033),_=t(71463),I=t(20029);function G(){let[e,s]=(0,r.useState)([]),[t,k]=(0,r.useState)([]),[C,S]=(0,r.useState)([]),[E,T]=(0,r.useState)([]),[F,$]=(0,r.useState)([]),[G,O]=(0,r.useState)(""),[H,L]=(0,r.useState)("all"),[R,Y]=(0,r.useState)("all"),[V,B]=(0,r.useState)("all"),[z,U]=(0,r.useState)(!1),[X,K]=(0,r.useState)(!1),[Z,W]=(0,r.useState)("create"),[ee,es]=(0,r.useState)(null),[et,ea]=(0,r.useState)(!0),[er,ei]=(0,r.useState)(!1),[el,en]=(0,r.useState)(!1),[ed,ec]=(0,r.useState)(null),[eo,em]=(0,r.useState)(!1),{toast:ex}=(0,A.dj)(),[eu,eh]=(0,r.useState)(!1),[ep,ej]=(0,r.useState)(null),eg=async()=>{try{em(!0);let[e,t,a]=await Promise.all([P.getAll(),q.C.getAll(),D.B.getAll()]);s(e),k(t),S(a)}catch(e){ex({title:"Error",description:e.response?.data?.error||"Failed to load data",variant:"destructive"}),console.error("Error fetching data:",e)}finally{ea(!1),em(!1)}},ev=e=>{es(e),W("view"),U(!0)},ef=e=>{es(e),W("edit"),U(!0)},eN=e=>{ec(e),en(!0)},ey=async()=>{if(ed)try{ei(!0),await P.delete(ed.id),ex({title:"Test deleted",description:`${ed.title} has been deleted successfully.`}),await eg()}catch(e){ex({title:"Error",description:e.response?.data?.error||"Failed to delete test",variant:"destructive"})}finally{ei(!1),en(!1),ec(null)}},eb=()=>{eg()},ew=e=>{if(!e)return"No Series";if("string"==typeof e){let s=t.find(s=>s.id===e);return s?`${s.icon} ${s.title}`:"Unknown Series"}return`${e.icon} ${e.title}`},ek=e=>{ej({id:e._id||e.id,title:e.title}),eh(!0)};return et?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(_.E,{className:"h-9 w-32"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(_.E,{className:"h-10 w-24"}),(0,a.jsx)(_.E,{className:"h-10 w-32"}),(0,a.jsx)(_.E,{className:"h-10 w-40"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(_.E,{className:"h-10 w-80"}),(0,a.jsx)(_.E,{className:"h-10 w-40"}),(0,a.jsx)(_.E,{className:"h-10 w-40"}),(0,a.jsx)(_.E,{className:"h-10 w-40"})]}),(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsx)("div",{className:"space-y-2 p-4",children:Array.from({length:5}).map((e,s)=>(0,a.jsx)(_.E,{className:"h-16 w-full"},s))})})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Tests"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(i.$,{variant:"outline",onClick:eg,disabled:eo,children:[(0,a.jsx)(n.A,{className:`mr-2 h-4 w-4 ${eo?"animate-spin":""}`}),"Refresh"]}),(0,a.jsxs)(i.$,{variant:"outline",onClick:()=>{K(!0)},children:[(0,a.jsx)(d,{className:"mr-2 h-4 w-4"}),"Generate Test"]}),(0,a.jsxs)(i.$,{onClick:()=>{es(null),W("create"),U(!0)},children:[(0,a.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Add Test"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[(0,a.jsx)(o.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(l.p,{placeholder:"Search tests...",value:G,onChange:e=>O(e.target.value),className:"pl-8"})]}),(0,a.jsxs)(w.l6,{value:H,onValueChange:L,children:[(0,a.jsx)(w.bq,{className:"w-[180px]",children:(0,a.jsx)(w.yv,{placeholder:"Category"})}),(0,a.jsxs)(w.gC,{children:[(0,a.jsx)(w.eb,{value:"all",children:"All Categories"}),C.map(e=>(0,a.jsxs)(w.eb,{value:e.id,children:[e.icon," ",e.name]},e.id))]})]}),(0,a.jsxs)(w.l6,{value:V,onValueChange:B,children:[(0,a.jsx)(w.bq,{className:"w-[200px]",children:(0,a.jsx)(w.yv,{placeholder:"Test Series"})}),(0,a.jsxs)(w.gC,{children:[(0,a.jsx)(w.eb,{value:"all",children:"All Series"}),E.map(e=>(0,a.jsxs)(w.eb,{value:e.id,children:[e.icon," ",e.title]},e.id))]})]}),(0,a.jsxs)(w.l6,{value:R,onValueChange:Y,children:[(0,a.jsx)(w.bq,{className:"w-[140px]",children:(0,a.jsx)(w.yv,{placeholder:"Difficulty"})}),(0,a.jsxs)(w.gC,{children:[(0,a.jsx)(w.eb,{value:"all",children:"All Levels"}),(0,a.jsx)(w.eb,{value:"easy",children:"Easy"}),(0,a.jsx)(w.eb,{value:"medium",children:"Medium"}),(0,a.jsx)(w.eb,{value:"hard",children:"Hard"})]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[F.length," of ",e.length," tests"]})]}),(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(N.XI,{children:[(0,a.jsx)(N.A0,{children:(0,a.jsxs)(N.Hj,{children:[(0,a.jsx)(N.nd,{children:"Title"}),(0,a.jsx)(N.nd,{children:"Category"}),(0,a.jsx)(N.nd,{children:"Test Series"}),(0,a.jsx)(N.nd,{className:"w-20",children:"Questions"}),(0,a.jsx)(N.nd,{className:"w-20",children:"Duration"}),(0,a.jsx)(N.nd,{className:"w-24",children:"Difficulty"}),(0,a.jsx)(N.nd,{className:"w-20",children:"Attempts"}),(0,a.jsx)(N.nd,{className:"w-20",children:"Avg Score"}),(0,a.jsx)(N.nd,{className:"text-right w-20",children:"Actions"})]})}),(0,a.jsx)(N.BF,{children:0===F.length?(0,a.jsx)(N.Hj,{children:(0,a.jsx)(N.nA,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:G||"all"!==H||"all"!==R||"all"!==V?"No tests found matching your filters.":"No tests found. Create your first test to get started."})}):F.map(e=>(0,a.jsxs)(N.Hj,{className:"hover:bg-muted/50",children:[(0,a.jsxs)(N.nA,{children:[(0,a.jsx)("div",{className:"font-medium max-w-[200px] truncate",title:e.title,children:e.title}),e.description&&(0,a.jsx)("div",{className:"text-xs text-muted-foreground max-w-[200px] truncate",title:e.description,children:e.description})]}),(0,a.jsx)(N.nA,{children:(0,a.jsx)(b.E,{variant:"outline",className:"text-xs",children:e.category})}),(0,a.jsx)(N.nA,{children:(0,a.jsx)("div",{className:"text-sm max-w-[150px] truncate",children:ew(e.testSeries)})}),(0,a.jsx)(N.nA,{className:"text-center",children:(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)(b.E,{variant:"secondary",className:"text-xs",children:e.totalQuestions})})}),(0,a.jsx)(N.nA,{className:"text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,a.jsx)(m.A,{className:"w-3 h-3 text-muted-foreground"}),(0,a.jsxs)("span",{className:"text-sm",children:[e.duration,"m"]})]})}),(0,a.jsx)(N.nA,{children:(0,a.jsx)(b.E,{variant:"Hard"===e.difficulty?"destructive":"Medium"===e.difficulty?"default":"secondary",children:e.difficulty})}),(0,a.jsx)(N.nA,{className:"text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,a.jsx)(x.A,{className:"w-3 h-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:e.attempts})]})}),(0,a.jsx)(N.nA,{className:"text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,a.jsx)(u.A,{className:"w-3 h-3 text-muted-foreground"}),(0,a.jsxs)("span",{className:"text-sm",children:[e.avgScore.toFixed(1),"%"]})]})}),(0,a.jsx)(N.nA,{className:"text-right",children:(0,a.jsxs)(y.rI,{children:[(0,a.jsx)(y.ty,{asChild:!0,children:(0,a.jsx)(i.$,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(y.SQ,{align:"end",children:[(0,a.jsxs)(y._2,{onClick:()=>ev(e),children:[(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"View Details"]}),(0,a.jsxs)(y._2,{onClick:()=>ef(e),children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,a.jsxs)(y._2,{onClick:()=>ek(e),children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Import Questions"]}),(0,a.jsxs)(y._2,{className:"text-red-600 focus:text-red-600",onClick:()=>eN(e),children:[(0,a.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})}),(0,a.jsx)(M,{isOpen:z,onClose:()=>U(!1),test:ee,mode:Z,onSuccess:eb}),(0,a.jsx)(J,{isOpen:X,onClose:()=>K(!1),onSuccess:eb}),(0,a.jsx)(Q.Lt,{open:el,onOpenChange:en,children:(0,a.jsxs)(Q.EO,{children:[(0,a.jsxs)(Q.wd,{children:[(0,a.jsx)(Q.r7,{children:"Are you sure?"}),(0,a.jsxs)(Q.$v,{children:['This action cannot be undone. This will permanently delete the test "',ed?.title,'" and may affect user progress and results.']})]}),(0,a.jsxs)(Q.ck,{children:[(0,a.jsx)(Q.Zr,{disabled:er,children:"Cancel"}),(0,a.jsxs)(Q.Rx,{onClick:ey,disabled:er,className:"bg-red-600 hover:bg-red-700",children:[er&&(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),er?"Deleting...":"Delete"]})]})]})}),(0,a.jsx)(I.O,{isOpen:eu,onClose:()=>eh(!1),testId:ep?.id||"",testType:"test",testTitle:ep?.title||"",onSuccess:eb})]})}},74075:e=>{"use strict";e.exports=require("zlib")},75533:(e,s,t)=>{"use strict";t.d(s,{C:()=>r});var a=t(12810);let r={getAll:async()=>(await a.A.get("/test-series")).data,getById:async e=>(await a.A.get(`/test-series/${e}`)).data,getByCategory:async e=>(await a.A.get(`/test-series/category/${e}`)).data,create:async e=>(await a.A.post("/test-series",e)).data,update:async(e,s)=>(await a.A.put(`/test-series/${e}`,s)).data,delete:async e=>(await a.A.delete(`/test-series/${e}`)).data}},77754:(e,s,t)=>{Promise.resolve().then(t.bind(t,83248))},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83248:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Project\\\\frontend\\\\app\\\\dashboard\\\\tests\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Project\\frontend\\app\\dashboard\\tests\\page.tsx","default")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[4447,1195,8405,4492,6954,4802,2525,5750,4792],()=>t(23578));module.exports=a})();